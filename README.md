# Handwriting Recognition Flask App

This project is a Flask-based web application for handwriting recognition, specifically designed to recognize handwritten digits. It uses JavaScript for frontend drawing capabilities, allowing users to draw digits with their mouse, and a machine learning model on the backend for digit classification. The project incorporates K-Means clustering for the recognition process.

## Features

- A drawing interface using HTML5 canvas and JavaScript.
- Flask backend for handling drawing data and classification.
- Integration with a K-Means ML model for digit classification.
- Use of AJAX for asynchronous data communication between client and server.
- Mode switching between running the Flask app and plotting cluster centers for model inspection.

## Getting Started

### Prerequisites

- Python 3.8 or later
- Flask
- Docker Desktop 

### Setup and Prerequisites

1. **Clone the repository**
```bash
git clone https://github.com/DeepBlockDeepak/Handwriting-Recognition-Flask-App.git
```


2. **Set up a virtual environment (optional)**

Poetry is used for dependency management. If you don't have Poetry installed, install it first:
```bash
pip install poetry
```
Install dependencies specified in `pyproject.toml` using Poetry with:
```bash
poetry install
```


3. **Run the Flask application**
```python
poetry run python app.py run
```

To inspect and adjust the K-Means model's cluster_to_digit mapping by plotting the cluster centers, use:

```python
poetry run python app.py plot
```

## Understanding the Plot Mode

The plot mode of this application is designed to visually inspect the cluster centers generated by the KMeans clustering algorithm. By plotting these centers as images, we can visually assess which digit each cluster corresponds to. This step is crucial because the KMeans algorithm's initialization is random (controlled by the `random_state` parameter), which can lead to different cluster assignments for the digits in each run.

### Purpose of Plot Mode

The primary purpose of the plot mode is to allow for a manual inspection and mapping of cluster centers to actual digit values. Since KMeans is unsupervised, it doesn't inherently know which cluster corresponds to which digit. By visually inspecting the cluster centers, we can create a mapping from clusters to digits. This mapping is then used in the application to interpret the model's predictions.

### Updating the Cluster Map

After identifying which digit each cluster most closely represents, you should update the `cluster_to_digit` mapping in `app.py` accordingly. This mapping directly affects the digit predictions made by the application. It's important to note that changing the `random_state` of the KMeans model can result in a different arrangement of cluster centers, requiring a potential update to the cluster map.

### Steps for Updating the Cluster Map

1. Run the application in plot mode to visualize the cluster centers.
2. Determine which digit each cluster center represents.
3. Update the `cluster_to_digit` mapping in the `app.py` to reflect your observations.
4. Switch back to run mode to start the Flask application with the updated mapping.

This manual step ensures that despite the randomness in the KMeans initialization, the application can accurately classify the handwritten digits drawn by the users.

